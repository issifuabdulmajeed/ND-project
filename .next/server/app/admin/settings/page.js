(()=>{var e={};e.id=6140,e.ids=[6140],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},39491:e=>{"use strict";e.exports=require("assert")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},83602:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>o,routeModule:()=>x,tree:()=>d});var s=a(67096),r=a(16132),i=a(37284),n=a.n(i),l=a(32564),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);a.d(t,c);let d=["",{children:["admin",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,73939)),"C:\\Users\\issif\\ND-project\\src\\app\\admin\\settings\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,39862)),"C:\\Users\\issif\\ND-project\\src\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,76661)),"C:\\Users\\issif\\ND-project\\src\\app\\layout.tsx"],loading:[()=>Promise.resolve().then(a.bind(a,29782)),"C:\\Users\\issif\\ND-project\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9291,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\issif\\ND-project\\src\\app\\admin\\settings\\page.tsx"],m="/admin/settings/page",p={require:a,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/settings/page",pathname:"/admin/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},74842:(e,t,a)=>{Promise.resolve().then(a.bind(a,15265))},15265:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>page});var s=a(30784),r=a(73713),i=a(56513),n=a(8021),l=a(85879),c=a(9885),d=a(50981),o=a(21700),m=a(91328),p=a(26896);let machinePopup=({isSubmitting:e,isShowPopUp:t,setIsShowPopUp:a,onEditMachine:r,onAddMachine:i,editData:l})=>{let x=l?.id?l.machineParams.map(e=>e.param_name):[],h=p.h9.filter(e=>!x.includes(e.param_name)),u=h.length>0?h:p.h9,g=l?.id?{machine_Name:l.machine_Name}:{},f=l?.id?l.machineParams.map(e=>e):[],[b,j]=(0,c.useState)(u),[w,_]=(0,c.useState)(g),[v,y]=(0,c.useState)(f),onAdd=async()=>{if(!w.machine_Name||0===v.length)return;let e=v.map(e=>({machineId:"",param_name:e.param_name})),t={machine:w,params:e};l?.id?r(t):i(t)},handleAddTechParam=async e=>{let t;if(l?.id){let{param_name:a}=e,{status:s,data:r}=await (0,d.eh)({param_name:a,machineId:l?.id});200===s&&(t=[...v,{id:r.id,param_name:r.param_name}])}else t=[...v,e];y(t);let a=[...b];j(a.filter(t=>t.param_name!==e.param_name))},handleRemoveTechParam=async e=>{let t;if(l?.id){let{id:a}=e,{status:s,data:r}=await (0,d.wU)({id:a});200===s&&(t=[...b,{id:r.id,param_name:r.param_name}])}else t=[...b,e];j(t);let a=[...v];y(a.filter(t=>t.param_name!==e.param_name))};return(0,s.jsxs)(m.Z,{show:t,extra:"flex !min-w-[500px] !top-[50%] flex-col gap-3 py-6 px-8",children:[s.jsx("h1",{className:"text-3xl ",children:"Makine Ayarları"}),s.jsx(o.Z,{label:"Makine İsmi",onChange:e=>{let t={[e.target?.name]:e.target?.value};_({...w,...t})},type:"text",id:"machine_Name",name:"machine_Name",placeholder:"Makine İsmi",extra:"mb-2",value:w.machine_Name}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"ml-2",children:"Parametreleri "}),s.jsx("div",{className:"text-bold mt-1 flex min-h-[48px] w-full flex-wrap gap-3 rounded-xl border bg-white/0 p-3 text-sm outline-none",children:v.length>0?s.jsx(s.Fragment,{children:v.map((e,t)=>(0,s.jsxs)("button",{onClick:()=>handleRemoveTechParam(e),className:"rounded-md bg-green-600 px-2 py-1 text-sm font-bold text-white",children:[e.param_name," X"]},t))}):null})]}),s.jsx("div",{className:"text-bold mt-1 flex w-full flex-wrap gap-3 rounded-xl bg-white/0 p-3 text-sm",children:b.length>0?s.jsx(s.Fragment,{children:b.map((e,t)=>(0,s.jsxs)("button",{onClick:()=>handleAddTechParam(e),className:"rounded-md bg-gray-600 px-2 py-1 text-sm font-bold text-white",children:[e.param_name," +"]},t))}):null}),(0,s.jsxs)("div",{className:"flex gap-4",children:[s.jsx(n.Z,{text:"GERİ",extra:"w-[60px] h-[40px] bg-red-700",onClick:()=>{a(!1)}}),s.jsx(n.Z,{loading:e,text:"KAYDET",extra:"w-[60px] h-[40px]",onClick:onAdd})]})]})},machineList=({machines:e,handleDeleteMachine:t,handleDeleteTechParams:a,handleMachineEdit:r})=>{let onDeleteMachine=async e=>{t(e)},onDeleteTechParams=async e=>{a(e)};return e?.length===0?null:s.jsx("div",{className:"grid grid-cols-2 gap-4 px-2",children:e.map((e,t)=>(0,s.jsxs)("div",{className:"relative flex flex-col items-start justify-start rounded-2xl border bg-white bg-clip-border px-3 py-4 shadow-shadow-500 dark:!bg-navy-700 dark:shadow-none",children:[s.jsx("button",{onClick:()=>r(e),className:"absolute right-10 top-2 flex h-6  w-6 items-center justify-center rounded-full border bg-[#f4f7fe] text-lg hover:bg-green-500 hover:text-white",children:"✐"}),s.jsx("button",{onClick:()=>onDeleteMachine(e.id),className:"text-md absolute right-2 top-2 flex h-6  w-6 items-center justify-center rounded-full border bg-[#f4f7fe] hover:bg-red-500 hover:text-white",children:"X"}),s.jsx("p",{className:"mb-2 text-lg font-bold  text-navy-700 dark:text-white",children:e.machine_Name}),s.jsx("div",{className:"mb-2 h-[1px] w-full bg-gray-400"}),(0,s.jsxs)("div",{className:"w-full",children:[s.jsx("div",{className:"mb-2 text-sm text-gray-800",children:"Teknikal Parametreleri"}),s.jsx("div",{className:"flex flex-wrap items-center gap-3",children:e?.machineParams?.length>0?s.jsx(s.Fragment,{children:e.machineParams.map((e,t)=>(0,s.jsxs)("span",{className:"rounded-md bg-gray-600 px-2 py-1 text-sm font-bold text-white",children:[e.param_name," ",s.jsx("button",{onClick:()=>onDeleteTechParams(e.id),className:"text-red-500",children:"X"})]},t))}):null})]})]},t))})},page=()=>{let[e,t]=(0,c.useState)(!1),[a,o]=(0,c.useState)(!1),[m,p]=(0,c.useState)([]),[x,h]=(0,c.useState)({}),getAllMachines=async()=>{let{status:e,data:t}=await (0,d.Bb)();200===e&&p(t)};(0,c.useEffect)(()=>{getAllMachines()},[]);let onAddMachine=async e=>{o(!0);let{status:a}=await (0,d.Hl)(e);200===a&&(await getAllMachines(),t(!1)),o(!1)},handleDeleteMachine=async e=>{let{status:t}=await (0,d.XV)(e);200===t&&getAllMachines()},handleDeleteTechParams=async e=>{let{status:t}=await (0,d.xi)(e);200===t&&getAllMachines()},showMachineEdit=async e=>{h(e),t(!0)},onEditMachine=async e=>{let{machine:a,params:s}=e;o(!0);let{status:r}=await (0,d.Oq)({id:x.id,machine_Name:a.machine_Name});200===r&&(await getAllMachines(),t(!1),h({})),o(!1)};return(0,s.jsxs)("div",{className:"flex w-full flex-col gap-5 lg:gap-5",children:[s.jsx("div",{className:"w-full",children:(0,s.jsxs)(l.Z,{extra:"w-full h-full p-3",children:[(0,s.jsxs)("div",{className:"mb-4 mt-2 flex w-full justify-between",children:[s.jsx("h2",{className:"px-2 text-xl font-bold text-navy-700 dark:text-white",children:"Makine Ayarları"}),s.jsx(n.Z,{onClick:()=>{t(!0)},extra:"!w-fit px-3 h-[38px]",text:"Makine Ekle"})]}),s.jsx(machineList,{machines:m,handleDeleteMachine:e=>handleDeleteMachine(e),handleDeleteTechParams:e=>handleDeleteTechParams(e),handleMachineEdit:e=>showMachineEdit(e)})]})}),(0,s.jsxs)("div",{className:"mb-4 grid h-full grid-cols-1 gap-5 lg:!grid-cols-12",children:[s.jsx("div",{className:"col-span-5 lg:col-span-12 lg:mb-0 3xl:!col-span-3",children:s.jsx(i.Z,{})}),s.jsx("div",{className:"col-span-5 lg:col-span-6 lg:mb-0 3xl:col-span-5",children:s.jsx(r.Z,{})})]}),s.jsx(machinePopup,{isShowPopUp:e,editData:x,setIsShowPopUp:()=>t(!e),onAddMachine:e=>onAddMachine(e),isSubmitting:a,onEditMachine:e=>onEditMachine(e)},x?.id)]})}},91328:(e,t,a)=>{"use strict";a.d(t,{Z:()=>Popup});var s=a(30784);function Popup({children:e,show:t,extra:a,onClose:r}){return t?s.jsx("div",{className:"popup-container",onClick:e=>{r&&r()},children:s.jsx("div",{className:`popup-body ${a}`,children:e})}):null}a(9885)},73939:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>n,__esModule:()=>i,default:()=>c});var s=a(95153);let r=(0,s.createProxy)(String.raw`C:\Users\issif\ND-project\src\app\admin\settings\page.tsx`),{__esModule:i,$$typeof:n}=r,l=r.default,c=l}};var t=require("../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),a=t.X(0,[8998,3657,7282,4407,614,580,7625,4997,4138,1404,3008,3763,981,6896,6510,1303,8021,1700,1881,3694],()=>__webpack_exec__(83602));module.exports=a})();