(()=>{var e={};e.id=419,e.ids=[419],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},39491:e=>{"use strict";e.exports=require("assert")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},16020:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>d,routeModule:()=>p,tree:()=>o});var a=s(67096),r=s(16132),l=s(37284),i=s.n(l),n=s(32564),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);s.d(t,c);let o=["",{children:["admin",{children:["process",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,51129)),"C:\\Users\\issif\\ND-project\\src\\app\\admin\\process\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,39862)),"C:\\Users\\issif\\ND-project\\src\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,76661)),"C:\\Users\\issif\\ND-project\\src\\app\\layout.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,29782)),"C:\\Users\\issif\\ND-project\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\issif\\ND-project\\src\\app\\admin\\process\\page.tsx"],x="/admin/process/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/process/page",pathname:"/admin/process",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},52268:(e,t,s)=>{Promise.resolve().then(s.bind(s,3425))},3425:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>process_page});var a=s(30784),r=s(9885),l=s(85879),i=s(17141),n=s(27277),c=s(26896),o=s(20440),d=s(7625),x=s(11200),m=s(75629);let processTable=function({tableData:e,onEdit:t,onDelete:s,onAdd:u,onControl:h,variant:g="NORMAL",searchValue:b}){let[f,j]=(0,r.useState)([]),[N,w]=(0,r.useState)(""),[y,k]=(0,r.useState)(b||""),{handleMouseDown:v,handleMouseLeave:S,handleMouseUp:C,handleMouseMove:_}=(0,c.kW)(),P=(0,r.useMemo)(()=>{let e={PENDING:"Beklemede",PROCESSING:"Proses'te",FINISHED:"Bitti"},statusbgColor=e=>"FINISHED"===e?a.jsx(d.ZSR,{className:"me-1 text-green-500 dark:text-green-300"}):"PROCESSING"===e?a.jsx(d.B4e,{className:"me-1 text-amber-500 dark:text-amber-300"}):a.jsx(d.Fbu,{className:"me-1 text-red-500 dark:text-red-300 "});return[p.accessor("id",{id:"id",header:()=>a.jsx("p",{className:"text-sm font-bold text-gray-600 dark:text-white",children:"SİRA NO."}),cell:({row:e})=>a.jsx("p",{className:"text-sm font-bold text-navy-700 dark:text-white",children:(e.index+1).toString()})}),p.accessor("faultId",{id:"faultId",header:()=>a.jsx("p",{className:"min-w-[100px] text-sm font-bold text-gray-600 dark:text-white",children:"TAKIP KODU"}),cell:e=>a.jsx("p",{className:"text-sm font-bold text-navy-700 dark:text-white",children:e.getValue()})}),p.accessor("customerName",{id:"customerName",header:()=>a.jsx("p",{className:"min-w-[200px] text-sm font-bold uppercase text-gray-600 dark:text-white",children:"M\xfcşteri"}),cell:e=>a.jsx("p",{className:" text-sm font-bold text-navy-700 dark:text-white",children:e.getValue()})}),p.accessor("product",{id:"product",header:()=>a.jsx("p",{className:"min-w-[130px]  text-sm font-bold uppercase text-gray-600 dark:text-white",children:"\xdcr\xfcn İsmi"}),cell:e=>a.jsx("p",{className:"text-sm font-bold text-navy-700 dark:text-white",children:e.getValue()})}),p.accessor("quantity",{id:"quantity",header:()=>a.jsx("p",{className:"text-sm font-bold uppercase text-gray-600 dark:text-white",children:"Miktar"}),cell:e=>a.jsx("p",{className:"text-sm font-bold text-navy-700 dark:text-white",children:e.getValue()})}),p.accessor("productCode",{id:"productCode",header:()=>a.jsx("p",{className:"min-w-[100px] text-sm font-bold uppercase text-gray-600 dark:text-white",children:"\xdcr\xfcn Kodu"}),cell:e=>a.jsx("p",{className:"text-sm font-bold text-navy-700 dark:text-white",children:e.getValue()})}),p.accessor("application",{id:"application",header:()=>a.jsx("p",{className:"min-w-[200px] text-sm font-bold uppercase text-gray-600 dark:text-white",children:"Uygulama"}),cell:e=>a.jsx("p",{className:"text-sm font-bold text-navy-700 dark:text-white",children:e.getValue()})}),p.accessor("standard",{id:"standard",header:()=>a.jsx("p",{className:"min-w-[110px] text-sm font-bold text-gray-600 dark:text-white",children:"STANDART"}),cell:e=>a.jsx("p",{className:"text-sm font-bold text-navy-700 dark:text-white",children:e.getValue()})}),p.accessor("color",{id:"color",header:()=>a.jsx("p",{className:"text-sm font-bold uppercase text-gray-600 dark:text-white",children:"Renk"}),cell:e=>a.jsx("p",{className:"text-sm font-bold text-navy-700 dark:text-white",children:e.getValue()})}),p.accessor("technicalDrawingAttachment",{id:"technicalDrawingAttachment",header:()=>a.jsx("p",{className:"min-w-[110px] text-sm font-bold uppercase text-gray-600 dark:text-white",children:"İLGİLİ DOK\xdcMAN"}),cell:e=>a.jsx("p",{className:"text-sm font-bold text-navy-700 dark:text-white",children:e.getValue()?a.jsx(n.Z,{file:e.getValue()}):null})}),p.accessor("machineName",{id:"machineName",header:()=>a.jsx("p",{className:"min-w-[160px] text-sm font-bold uppercase text-gray-600 dark:text-white",children:"Makine"}),cell:e=>a.jsx("p",{className:"text-sm font-bold text-navy-700 dark:text-white",children:e.getValue()})}),p.accessor("status",{id:"status",header:()=>a.jsx("p",{className:"min-w-[120px] text-sm font-bold uppercase text-gray-600 dark:text-white",children:"PROSES DURUMU"}),cell:t=>(0,a.jsxs)("div",{className:"flex min-w-[100px] items-center",children:[statusbgColor(t.getValue()),a.jsx("p",{className:"text-sm font-bold text-navy-700 dark:text-white",children:e[t.getValue()]})]})}),p.accessor("id",{id:"id",header:()=>a.jsx("p",{className:"text-sm font-bold text-gray-600 dark:text-white",children:"AKSIYON"}),cell:e=>(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("button",{className:"rounded-md bg-blue-600  px-2 py-1 hover:bg-blue-700",onClick:()=>h(e.getValue()),children:a.jsx(d.Sbz,{className:"h-5 w-5 text-white"})}),a.jsx("button",{className:"rounded-md bg-red-600  px-2 py-1 hover:bg-red-700",onClick:()=>s(e.getValue()),children:a.jsx(d.$vK,{className:"h-5 w-5 text-white"})})]})})]},[]),[M,q]=(0,r.useState)(()=>[...e]),A=(0,x.b7)({data:M,columns:P,initialState:{pagination:{pageSize:10}},state:{sorting:f,globalFilter:N},onSortingChange:j,getCoreRowModel:(0,m.sC)(),getSortedRowModel:(0,m.tj)(),onGlobalFilterChange:w,getFilteredRowModel:(0,m.vL)(),getPaginationRowModel:(0,m.G_)(),debugTable:!0});return(0,a.jsxs)(l.Z,{extra:"w-full h-full sm:overflow-auto px-6 pb-3",children:[a.jsx("header",{className:"relative flex items-center justify-between gap-4 pt-6",children:a.jsx("div",{className:"text-md font-medium text-navy-700 dark:text-white",children:a.jsx(i.Z,{extra:"!h-[38px] md:w-[300px] md:max-w-[300px]",onSubmit:e=>w(e),onChange:e=>w(e),value:y})})}),(0,a.jsxs)("div",{className:"custom-scrollbar--hidden mt-8 overflow-x-scroll",onMouseDown:v,onMouseLeave:S,onMouseUp:C,onMouseMove:_,children:[(0,a.jsxs)("table",{className:"w-full",children:[a.jsx("thead",{children:A.getHeaderGroups().map(e=>a.jsx("tr",{className:"!border-px !border-gray-400",children:e.headers.map(e=>a.jsx("th",{colSpan:e.colSpan,onClick:e.column.getToggleSortingHandler(),className:"cursor-pointer border-b border-gray-400 pb-2 pr-4 pt-4 text-start dark:border-white/30",children:(0,a.jsxs)("div",{className:"items-center justify-between text-xs text-gray-200",children:[(0,x.ie)(e.column.columnDef.header,e.getContext()),{asc:"",desc:""}[e.column.getIsSorted()]??null]})},e.id))},e.id))}),a.jsx("tbody",{children:A.getRowModel().rows.slice().map(e=>a.jsx("tr",{className:"border-b border-gray-100 hover:bg-lightPrimary dark:border-gray-900 dark:hover:bg-navy-700",children:e.getVisibleCells().map(e=>a.jsx("td",{className:"min-w-[80px] p-1",children:(0,x.ie)(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})]}),a.jsx(o.Z,{table:A})]})]})},p=(0,m.Cl)();var u=s(57114),h=s(50981),g=s(64434),b=s(34751),f=s(91328),j=s(8021),N=s(74284),w=s(91597);let process_page=()=>{let e=(0,u.useRouter)(),[t,s]=(0,r.useState)([]),[l,i]=(0,r.useState)(!1),[n,c]=(0,r.useState)(""),[o,d]=(0,r.useState)(!1),[x,m]=(0,r.useState)(!1),{data:p}=(0,N.useSession)(),y=(0,u.useSearchParams)(),k=y.get("q"),[v,S]=(0,r.useState)(k||""),[C,_]=(0,r.useState)({}),[P,M]=(0,r.useState)({}),[q,A]=(0,r.useState)({}),[D,V]=(0,r.useState)([]),[R,E]=(0,r.useState)(!1),I=["faultId","customerName","product","quantity","application","standard","color","machineName"],G={customerName:"M\xfcşteri",product:"\xdcr\xfcn adı",quantity:"Miktar",application:"Uygulama",standard:"Standart",color:"Renk",machineName:"Makine",faultId:"Takıp Kodu"},getAllProcess=async()=>{m(!0);let{status:e,data:t}=await (0,h.Yt)();200===e&&s(t),m(!1)};(0,r.useEffect)(()=>{getAllProcess()},[]),(0,r.useEffect)(()=>{S(k||"")},[k]);let onAdd=async t=>{if(!t)return;delete t.technicalParams;let{id:s,product:a,application:r,standard:l,color:n,machineId:o,customerName:d}=t;if(c(s),M(t),!o){_({customerName:d,product:a,application:r,standard:l,color:n});let{status:e,data:t}=await (0,h.Bb)();200===e&&(V(t),i(!0));return}e.push(`/admin/process/create/${s}`)},onAddMachine=async()=>{if(!q?.machineId)return;d(!0);let{status:t}=await (0,h.Q3)({...P,...q,createdBy:p?.user?.name});if(200===t){b.Am.success("Makine ekleme işlemi başarılı."),e.push(`/admin/process/create/${n}`);return}b.Am.error("Bir hata oluştu, tekrar deneyin !")},onComfirm=async e=>{c(e),E(!0)},onControl=t=>{e.push(`/admin/process/${t}`)},onDelete=async()=>{d(!0);let{status:e}=await (0,h.sz)(n);if(200===e){b.Am.success("Proses silme işlemi başarılı."),await getAllProcess(),d(!1),E(!1);return}b.Am.error("Bir hata oluştu, tekrar deneyin !")};return(0,a.jsxs)("div",{className:"mt-3 w-full",children:[x?a.jsx(g.kx,{}):a.jsx(processTable,{onAdd:e=>onAdd(e),tableData:t,variant:p?.user?.role,searchValue:v,onDelete:onComfirm,onControl:e=>onControl(e)},k),(0,a.jsxs)(f.Z,{show:l,extra:"flex flex-col gap-3 py-6 px-8",children:[a.jsx("h1",{className:"text-3xl",children:"Makine Şe\xe7imi"}),a.jsx("div",{className:"mb-2 grid grid-cols-2 gap-2 text-sm",children:Object.entries(C).map(([e,t],s)=>{if(I.includes(e))return(0,a.jsxs)("div",{className:"",children:[a.jsx("h2",{className:"font-bold capitalize italic",children:G[e]}),(0,a.jsxs)(a.Fragment,{children:[" ",t]})]},s)})}),a.jsx("div",{className:"mb-2 flex flex-col gap-3 sm:flex-row",children:(0,a.jsxs)(w.Z,{extra:"pt-1",label:"Makine Se\xe7imi",onChange:e=>{A(JSON.parse(e.target?.value))},name:"machineName",children:[a.jsx("option",{value:"{}",selected:!0,children:"Makine Se\xe7"}),D.map((e,t)=>a.jsx("option",{value:JSON.stringify({machineId:e.id,machineName:e.machine_Name}),children:e.machine_Name},t))]})}),(0,a.jsxs)("div",{className:"flex gap-4",children:[a.jsx(j.Z,{text:"GERİ",extra:"w-[60px] bg-red-700 h-[40px]",onClick:e=>{i(!1)}}),a.jsx(j.Z,{loading:o,text:"DEVAM",extra:"w-[60px] h-[40px]",onClick:onAddMachine})]})]},1),(0,a.jsxs)(f.Z,{show:R,extra:"flex flex-col gap-3 py-6 px-8",children:[a.jsx("h1",{className:"text-3xl",children:"Proces Silme"}),a.jsx("p",{className:"mb-2 text-lg",children:"Bu Proses Silmek istediğini Emin misin ?"}),(0,a.jsxs)("div",{className:"flex gap-4",children:[a.jsx(j.Z,{loading:o,text:"SİL",extra:"w-[60px] bg-red-700 h-[40px]",onClick:onDelete}),a.jsx(j.Z,{text:"GERİ",extra:"w-[60px] h-[40px]",onClick:e=>{E(!1)}})]})]},2)]})}},27277:(e,t,s)=>{"use strict";s.d(t,{Z:()=>FileViewer});var a=s(30784);s(9885);var r=s(7625);function FileViewer({file:e}){return e?a.jsx("a",{href:`/uploads/${e}`,target:"_blank",children:a.jsx(r._b$,{className:"h-6 w-6"})}):null}},51129:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>l,default:()=>c});var a=s(95153);let r=(0,a.createProxy)(String.raw`C:\Users\issif\ND-project\src\app\admin\process\page.tsx`),{__esModule:l,$$typeof:i}=r,n=r.default,c=n}};var t=require("../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[8998,3657,7282,4407,614,580,7625,4997,4138,1200,3008,3763,981,6896,6510,1303,8021,4434,1597,8692],()=>__webpack_exec__(16020));module.exports=s})();