"use strict";(()=>{var e={};e.id=3083,e.ids=[3083],e.modules={53524:e=>{e.exports=require("@prisma/client")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},32276:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>m,originalPathname:()=>p,requestAsyncStorage:()=>l,routeModule:()=>P,serverHooks:()=>d,staticGenerationAsyncStorage:()=>c,staticGenerationBailout:()=>f});var a={};r.r(a),r.d(a,{DELETE:()=>DELETE,GET:()=>GET,PUT:()=>PUT}),r(78976);var n=r(10884),i=r(16132),s=r(95798),o=r(78749),u=r(53524);async function GET(e,t){try{let e=t.params.id,r=await o.Z.fault.findUnique({where:{id:e},include:{faultControl:!0}});return s.Z.json(r,{status:200})}catch(e){if(e instanceof u.Prisma.PrismaClientKnownRequestError||e instanceof u.Prisma.PrismaClientUnknownRequestError||e instanceof u.Prisma.PrismaClientValidationError||e instanceof u.Prisma.PrismaClientRustPanicError)return s.Z.json(e,{status:403});return s.Z.json(e,{status:500})}}async function PUT(e,t){try{let r=t.params.id,a=await e.json(),{customerName:n,productCode:i,quantity:u,application:P}=a;if(!n||!i||!u||!P)return s.Z.json({message:"You are missing a required data"},{status:401});await o.Z.fault.findUnique({where:{id:r}});let l=await o.Z.fault.update({where:{id:r},data:{...a}});return s.Z.json(l,{status:200})}catch(e){if(e instanceof u.Prisma.PrismaClientKnownRequestError||e instanceof u.Prisma.PrismaClientUnknownRequestError||e instanceof u.Prisma.PrismaClientValidationError||e instanceof u.Prisma.PrismaClientRustPanicError)return s.Z.json(e,{status:403});return s.Z.json(e,{status:500})}}async function DELETE(e,t){try{let e=t.params.id,r=await o.Z.fault.delete({where:{id:e}});return r&&await o.Z.stock.update({where:{id:r.stockId},data:{faultId:null}}),s.Z.json(r,{status:200})}catch(e){if(e instanceof u.Prisma.PrismaClientKnownRequestError||e instanceof u.Prisma.PrismaClientUnknownRequestError||e instanceof u.Prisma.PrismaClientValidationError||e instanceof u.Prisma.PrismaClientRustPanicError)return s.Z.json(e,{status:403});return s.Z.json(e,{status:500})}}let P=new n.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/entry/[id]/route",pathname:"/api/entry/[id]",filename:"route",bundlePath:"app/api/entry/[id]/route"},resolvedPagePath:"C:\\Users\\issif\\ND-project\\src\\app\\api\\entry\\[id]\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:l,staticGenerationAsyncStorage:c,serverHooks:d,headerHooks:m,staticGenerationBailout:f}=P,p="/api/entry/[id]/route"},16132:(e,t)=>{var r;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return r}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(r||(r={}))},78749:(e,t,r)=>{r.d(t,{Z:()=>i});var a=r(53524);let n=globalThis.prisma??new a.PrismaClient,i=n}};var t=require("../../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[9199,5798],()=>__webpack_exec__(32276));module.exports=r})();