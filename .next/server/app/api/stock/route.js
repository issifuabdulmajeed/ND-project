"use strict";(()=>{var e={};e.id=218,e.ids=[218],e.modules={53524:e=>{e.exports=require("@prisma/client")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},44462:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>m,originalPathname:()=>f,requestAsyncStorage:()=>P,routeModule:()=>c,serverHooks:()=>d,staticGenerationAsyncStorage:()=>l,staticGenerationBailout:()=>p});var s={};r.r(s),r.d(s,{GET:()=>GET,PUT:()=>PUT}),r(78976);var a=r(10884),n=r(16132),i=r(95798),o=r(78749),u=r(53524);async function GET(e){try{let e=await o.Z.stock.findMany({include:{customer:!0},orderBy:{date:"desc"}});return i.Z.json(e,{status:200})}catch(e){if(e instanceof u.Prisma.PrismaClientKnownRequestError||e instanceof u.Prisma.PrismaClientUnknownRequestError||e instanceof u.Prisma.PrismaClientValidationError||e instanceof u.Prisma.PrismaClientRustPanicError)return i.Z.json(e,{status:403});return i.Z.json(e,{status:500})}}async function PUT(e){try{let t=await e.json(),{product_name:r,product_code:s,current_price:a,curency:n}=t;if(!r||!s||!a||!n)return i.Z.json({message:"You are missing a required data"},{status:401});let u=await o.Z.stock.create({data:t});return i.Z.json(u,{status:200})}catch(e){if(e instanceof u.Prisma.PrismaClientKnownRequestError||e instanceof u.Prisma.PrismaClientUnknownRequestError||e instanceof u.Prisma.PrismaClientValidationError||e instanceof u.Prisma.PrismaClientRustPanicError)return i.Z.json(e,{status:403});return i.Z.json(e,{status:500})}}let c=new a.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/stock/route",pathname:"/api/stock",filename:"route",bundlePath:"app/api/stock/route"},resolvedPagePath:"C:\\Users\\issif\\ND-project\\src\\app\\api\\stock\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:P,staticGenerationAsyncStorage:l,serverHooks:d,headerHooks:m,staticGenerationBailout:p}=c,f="/api/stock/route"},16132:(e,t)=>{var r;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return r}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(r||(r={}))},78749:(e,t,r)=>{r.d(t,{Z:()=>n});var s=r(53524);let a=globalThis.prisma??new s.PrismaClient({datasources:{db:{url:"postgresql://postgres:majeed123@localhost:5432/postgres"}}}),n=a}};var t=require("../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[9199,5798],()=>__webpack_exec__(44462));module.exports=r})();